// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.ConfluentCloud
{
    /// <summary>
    /// [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)
    /// 
    /// `confluentcloud.SubjectConfig` provides a Subject Config resource that enables updating Subject Config on a Schema Registry cluster on Confluent Cloud.
    /// 
    /// &gt; **Note:** It is recommended to set `lifecycle { PreventDestroy = true }` on production instances to prevent accidental subject config deletion. This setting rejects plans that would destroy or recreate the subject config, such as attempting to change uneditable attributes. Read more about it in the Terraform docs.
    /// 
    /// ## Example Usage
    /// 
    /// ### Option #1: Manage multiple Schema Registry clusters in the same Pulumi Stack
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using ConfluentCloud = Pulumi.ConfluentCloud;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new ConfluentCloud.SubjectConfig("example", new()
    ///     {
    ///         SchemaRegistryCluster = new ConfluentCloud.Inputs.SubjectConfigSchemaRegistryClusterArgs
    ///         {
    ///             Id = essentials.Id,
    ///         },
    ///         RestEndpoint = essentialsConfluentSchemaRegistryCluster.RestEndpoint,
    ///         SubjectName = "proto-purchase-value",
    ///         CompatibilityLevel = "BACKWARD",
    ///         CompatibilityGroup = "abc.cg.version",
    ///         Normalize = true,
    ///         Credentials = new ConfluentCloud.Inputs.SubjectConfigCredentialsArgs
    ///         {
    ///             Key = "&lt;Schema Registry API Key for data.confluent_schema_registry_cluster.essentials&gt;",
    ///             Secret = "&lt;Schema Registry API Secret for data.confluent_schema_registry_cluster.essentials&gt;",
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Option #2: Manage a single Schema Registry cluster in the same Pulumi Stack
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using ConfluentCloud = Pulumi.ConfluentCloud;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new ConfluentCloud.SubjectConfig("example", new()
    ///     {
    ///         SubjectName = "proto-purchase-value",
    ///         CompatibilityLevel = "BACKWARD",
    ///         CompatibilityGroup = "abc.cg.version",
    ///         Normalize = true,
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Example: Creating a Subject Alias
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using ConfluentCloud = Pulumi.ConfluentCloud;
    /// using Std = Pulumi.Std;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     // First, ensure the original subject exists with a schema
    ///     var original = new ConfluentCloud.Schema("original", new()
    ///     {
    ///         SubjectName = "orders-long-subject-name-value",
    ///         Format = "AVRO",
    ///         SchemaDetails = Std.Index.File.Invoke(new()
    ///         {
    ///             Input = "./schemas/avro/orders.avsc",
    ///         }).Result,
    ///     });
    /// 
    ///     // Create an alias that points to the original subject
    ///     // Any reference to "orders-value" will now resolve to "orders-long-subject-name-value"
    ///     var ordersAlias = new ConfluentCloud.SubjectConfig("orders_alias", new()
    ///     {
    ///         SubjectName = "orders-value",
    ///         Alias = "orders-long-subject-name-value",
    ///     }, new CustomResourceOptions
    ///     {
    ///         DependsOn =
    ///         {
    ///             original,
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// You can import a Subject Config by using the Schema Registry cluster ID, Subject name in the format `&lt;Schema Registry cluster ID&gt;/&lt;Subject name&gt;`, for example:
    /// 
    /// ```sh
    /// $ export IMPORT_SCHEMA_REGISTRY_API_KEY="&lt;schema_registry_api_key&gt;"
    /// $ export IMPORT_SCHEMA_REGISTRY_API_SECRET="&lt;schema_registry_api_secret&gt;"
    /// $ export IMPORT_SCHEMA_REGISTRY_REST_ENDPOINT="&lt;schema_registry_rest_endpoint&gt;"
    /// $ pulumi import confluentcloud:index/subjectConfig:SubjectConfig example lsrc-abc123/test-subject
    /// ```
    /// 
    /// !&gt; **Warning:** Do not forget to delete terminal command history afterwards for security purposes.
    /// </summary>
    [ConfluentCloudResourceType("confluentcloud:index/subjectConfig:SubjectConfig")]
    public partial class SubjectConfig : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The subject name that this subject is an alias for. Any reference to this subject will be replaced by the alias. See [Subject Aliases](https://docs.confluent.io/platform/current/schema-registry/fundamentals/index.html#subject-aliases) for more details.
        /// 
        /// &gt; **Note:** To create an alias for a subject, create a new subject config where `SubjectName` is the alias and `Alias` points to the real subject. For example, to create an alias `short-name` that points to subject `very-long-subject-name`, set `SubjectName = "short-name"` and `alias = "very-long-subject-name"`.
        /// </summary>
        [Output("alias")]
        public Output<string> Alias { get; private set; } = null!;

        /// <summary>
        /// The Compatibility Group of the specified subject.
        /// </summary>
        [Output("compatibilityGroup")]
        public Output<string> CompatibilityGroup { get; private set; } = null!;

        /// <summary>
        /// The Compatibility Level of the specified subject. Accepted values are: `BACKWARD`, `BACKWARD_TRANSITIVE`, `FORWARD`, `FORWARD_TRANSITIVE`, `FULL`, `FULL_TRANSITIVE`, and `NONE`. See the [Compatibility Types](https://docs.confluent.io/platform/current/schema-registry/avro.html#compatibility-types) for more details.
        /// </summary>
        [Output("compatibilityLevel")]
        public Output<string> CompatibilityLevel { get; private set; } = null!;

        /// <summary>
        /// The Cluster API Credentials.
        /// </summary>
        [Output("credentials")]
        public Output<Outputs.SubjectConfigCredentials?> Credentials { get; private set; } = null!;

        /// <summary>
        /// Whether schemas are automatically normalized when registered or passed during lookups.
        /// </summary>
        [Output("normalize")]
        public Output<bool> Normalize { get; private set; } = null!;

        /// <summary>
        /// The REST endpoint of the Schema Registry cluster, for example, `https://psrc-00000.us-central1.gcp.confluent.cloud:443`).
        /// </summary>
        [Output("restEndpoint")]
        public Output<string?> RestEndpoint { get; private set; } = null!;

        [Output("schemaRegistryCluster")]
        public Output<Outputs.SubjectConfigSchemaRegistryCluster?> SchemaRegistryCluster { get; private set; } = null!;

        /// <summary>
        /// The name of the subject (in other words, the namespace), representing the subject under which the schema will be registered, for example, `test-subject`.
        /// 
        /// &gt; **Note:** If you want to reference the subject that is located in a custom context, use the following naming pattern: `:.contextName:subjectName`. For example, use `SubjectName = ":.context1:test-subject"` to reference the subject named `test-subject` in the `Context1` context, and use `SubjectName = "test-subject"` to reference the subject named `test-subject` in the `Default` context.
        /// 
        /// &gt; **Note:** To configure a config at the context level, affecting all subjects created within that context, use the following naming pattern: `:.contextName:`. For example, to set the global configuration for the `Context1` context, use `SubjectName = ":.context1:"`.
        /// </summary>
        [Output("subjectName")]
        public Output<string> SubjectName { get; private set; } = null!;


        /// <summary>
        /// Create a SubjectConfig resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public SubjectConfig(string name, SubjectConfigArgs args, CustomResourceOptions? options = null)
            : base("confluentcloud:index/subjectConfig:SubjectConfig", name, args ?? new SubjectConfigArgs(), MakeResourceOptions(options, ""))
        {
        }

        private SubjectConfig(string name, Input<string> id, SubjectConfigState? state = null, CustomResourceOptions? options = null)
            : base("confluentcloud:index/subjectConfig:SubjectConfig", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                AdditionalSecretOutputs =
                {
                    "credentials",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing SubjectConfig resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static SubjectConfig Get(string name, Input<string> id, SubjectConfigState? state = null, CustomResourceOptions? options = null)
        {
            return new SubjectConfig(name, id, state, options);
        }
    }

    public sealed class SubjectConfigArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The subject name that this subject is an alias for. Any reference to this subject will be replaced by the alias. See [Subject Aliases](https://docs.confluent.io/platform/current/schema-registry/fundamentals/index.html#subject-aliases) for more details.
        /// 
        /// &gt; **Note:** To create an alias for a subject, create a new subject config where `SubjectName` is the alias and `Alias` points to the real subject. For example, to create an alias `short-name` that points to subject `very-long-subject-name`, set `SubjectName = "short-name"` and `alias = "very-long-subject-name"`.
        /// </summary>
        [Input("alias")]
        public Input<string>? Alias { get; set; }

        /// <summary>
        /// The Compatibility Group of the specified subject.
        /// </summary>
        [Input("compatibilityGroup")]
        public Input<string>? CompatibilityGroup { get; set; }

        /// <summary>
        /// The Compatibility Level of the specified subject. Accepted values are: `BACKWARD`, `BACKWARD_TRANSITIVE`, `FORWARD`, `FORWARD_TRANSITIVE`, `FULL`, `FULL_TRANSITIVE`, and `NONE`. See the [Compatibility Types](https://docs.confluent.io/platform/current/schema-registry/avro.html#compatibility-types) for more details.
        /// </summary>
        [Input("compatibilityLevel")]
        public Input<string>? CompatibilityLevel { get; set; }

        [Input("credentials")]
        private Input<Inputs.SubjectConfigCredentialsArgs>? _credentials;

        /// <summary>
        /// The Cluster API Credentials.
        /// </summary>
        public Input<Inputs.SubjectConfigCredentialsArgs>? Credentials
        {
            get => _credentials;
            set
            {
                var emptySecret = Output.CreateSecret(0);
                _credentials = Output.Tuple<Input<Inputs.SubjectConfigCredentialsArgs>?, int>(value, emptySecret).Apply(t => t.Item1);
            }
        }

        /// <summary>
        /// Whether schemas are automatically normalized when registered or passed during lookups.
        /// </summary>
        [Input("normalize")]
        public Input<bool>? Normalize { get; set; }

        /// <summary>
        /// The REST endpoint of the Schema Registry cluster, for example, `https://psrc-00000.us-central1.gcp.confluent.cloud:443`).
        /// </summary>
        [Input("restEndpoint")]
        public Input<string>? RestEndpoint { get; set; }

        [Input("schemaRegistryCluster")]
        public Input<Inputs.SubjectConfigSchemaRegistryClusterArgs>? SchemaRegistryCluster { get; set; }

        /// <summary>
        /// The name of the subject (in other words, the namespace), representing the subject under which the schema will be registered, for example, `test-subject`.
        /// 
        /// &gt; **Note:** If you want to reference the subject that is located in a custom context, use the following naming pattern: `:.contextName:subjectName`. For example, use `SubjectName = ":.context1:test-subject"` to reference the subject named `test-subject` in the `Context1` context, and use `SubjectName = "test-subject"` to reference the subject named `test-subject` in the `Default` context.
        /// 
        /// &gt; **Note:** To configure a config at the context level, affecting all subjects created within that context, use the following naming pattern: `:.contextName:`. For example, to set the global configuration for the `Context1` context, use `SubjectName = ":.context1:"`.
        /// </summary>
        [Input("subjectName", required: true)]
        public Input<string> SubjectName { get; set; } = null!;

        public SubjectConfigArgs()
        {
        }
        public static new SubjectConfigArgs Empty => new SubjectConfigArgs();
    }

    public sealed class SubjectConfigState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The subject name that this subject is an alias for. Any reference to this subject will be replaced by the alias. See [Subject Aliases](https://docs.confluent.io/platform/current/schema-registry/fundamentals/index.html#subject-aliases) for more details.
        /// 
        /// &gt; **Note:** To create an alias for a subject, create a new subject config where `SubjectName` is the alias and `Alias` points to the real subject. For example, to create an alias `short-name` that points to subject `very-long-subject-name`, set `SubjectName = "short-name"` and `alias = "very-long-subject-name"`.
        /// </summary>
        [Input("alias")]
        public Input<string>? Alias { get; set; }

        /// <summary>
        /// The Compatibility Group of the specified subject.
        /// </summary>
        [Input("compatibilityGroup")]
        public Input<string>? CompatibilityGroup { get; set; }

        /// <summary>
        /// The Compatibility Level of the specified subject. Accepted values are: `BACKWARD`, `BACKWARD_TRANSITIVE`, `FORWARD`, `FORWARD_TRANSITIVE`, `FULL`, `FULL_TRANSITIVE`, and `NONE`. See the [Compatibility Types](https://docs.confluent.io/platform/current/schema-registry/avro.html#compatibility-types) for more details.
        /// </summary>
        [Input("compatibilityLevel")]
        public Input<string>? CompatibilityLevel { get; set; }

        [Input("credentials")]
        private Input<Inputs.SubjectConfigCredentialsGetArgs>? _credentials;

        /// <summary>
        /// The Cluster API Credentials.
        /// </summary>
        public Input<Inputs.SubjectConfigCredentialsGetArgs>? Credentials
        {
            get => _credentials;
            set
            {
                var emptySecret = Output.CreateSecret(0);
                _credentials = Output.Tuple<Input<Inputs.SubjectConfigCredentialsGetArgs>?, int>(value, emptySecret).Apply(t => t.Item1);
            }
        }

        /// <summary>
        /// Whether schemas are automatically normalized when registered or passed during lookups.
        /// </summary>
        [Input("normalize")]
        public Input<bool>? Normalize { get; set; }

        /// <summary>
        /// The REST endpoint of the Schema Registry cluster, for example, `https://psrc-00000.us-central1.gcp.confluent.cloud:443`).
        /// </summary>
        [Input("restEndpoint")]
        public Input<string>? RestEndpoint { get; set; }

        [Input("schemaRegistryCluster")]
        public Input<Inputs.SubjectConfigSchemaRegistryClusterGetArgs>? SchemaRegistryCluster { get; set; }

        /// <summary>
        /// The name of the subject (in other words, the namespace), representing the subject under which the schema will be registered, for example, `test-subject`.
        /// 
        /// &gt; **Note:** If you want to reference the subject that is located in a custom context, use the following naming pattern: `:.contextName:subjectName`. For example, use `SubjectName = ":.context1:test-subject"` to reference the subject named `test-subject` in the `Context1` context, and use `SubjectName = "test-subject"` to reference the subject named `test-subject` in the `Default` context.
        /// 
        /// &gt; **Note:** To configure a config at the context level, affecting all subjects created within that context, use the following naming pattern: `:.contextName:`. For example, to set the global configuration for the `Context1` context, use `SubjectName = ":.context1:"`.
        /// </summary>
        [Input("subjectName")]
        public Input<string>? SubjectName { get; set; }

        public SubjectConfigState()
        {
        }
        public static new SubjectConfigState Empty => new SubjectConfigState();
    }
}
